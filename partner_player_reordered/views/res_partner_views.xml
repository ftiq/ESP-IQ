<odoo>
    <button name="%(partner_player_reordered.action_report_res_partner_registration)d" ... />
        <field name="name">res.partner.form.inherit.player</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="base.view_partner_form"/>
        <field name="arch" type="xml">
            <!-- إضافة صفحة جديدة مع استخدام modifiers لإخفائها عندما is_player=False -->
            <xpath expr="//notebook" position="inside">
                <page string="معلومات اللاعب"
                      modifiers="{'invisible': [('is_player','=', False)]}">
                    <group>
                        <field name="mother_name"/>
                        <field name="birth_date"/>
                        <field name="weight"/>
                        <field name="height"/>
                    </group>
                    <group>
                        <field name="visible_marks" colspan="4"/>
                    </group>
                    <group>
                        <field name="signature_image" widget="image" class="oe_avatar"
                               options="{'preview_image': 'signature_image'}"/>
                    </group>
                </page>
            </xpath>

            <!-- حقل الاختيار is_player -->
            <xpath expr="//field[@name='category_id']" position="before">
                <field name="is_player" widget="boolean_button"
                       options="{'terminology': 'yesno'}"/>
            </xpath>
        </field>
    </record>

    <record id="res_partner_view_form_with_print" model="ir.ui.view">
        <field name="name">res.partner.form.inherit.print.player</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="base.view_partner_form"/>
        <field name="arch" type="xml">
            <xpath expr="//header" position="inside">
                <button name="%(action_report_res_partner_registration)d"
                        string="طباعة استمارة تسجيل اللاعب"
                        type="action"
                        class="btn-primary"
                        context="{'default_is_player': True}"
                        icon="fa-print"/>
            </xpath>
        </field>
    </record>
</odoo>
